---
title: "√úbertragungsfunktionen"
author: "Michael Sielemann"
date: "2025-09-19"
output: revealjs
format:
  revealjs:
    incremental: false
    theme: default
    mainfont: "Source Sans Pro"    
    fontsize: "28px"
    width: 1280
    height: 720
    margin: 0.1
    auto-stretch: true
    scrollable: true
    css: |
      .smaller {
        font-size: 0.8em;
      }
      .tiny {
        font-size: 0.6em;
      }
---

## Wiederholung 1

 - Mathematische Beschreibungen im Zeitbereich
   - ?

::: notes
Fragen
 - Welche mathematischen Beschreibungen im Zeitbereich kennen Sie?
:::

## Wiederholung 1

 - Mathematische Beschreibungen im Zeitbereich
   - Zustandsraumdarstellung f√ºr lineare Systeme
   - Differentialgleichung linear
   - Differentialgleichung nichtlinear

## Wiederholung 1

 - Mathematische Beschreibungen im Zeitbereich
   - Zustandsraumdarstellung f√ºr lineare Systeme <!-- Lunze Gl. 4.43 mit SISO, d.h. skalarem u, also Vektoren b, c, Skalar d -->
     $$
     \dot{x}(t) = A x(t) + B u(t), \quad x(0) = x_0
     $$
     $$
     y(t) = C x(t) + D u(t)
     $$
   - Differentialgleichung linear
   - Differentialgleichung nichtlinear

::: notes
Fragen
 - Warum linear? Weil A, B, C, D nicht von x oder u abh√§ngen.
 - Welche Gr√∂√üen haben A sowie B, C sowie D? nxn, nx1, 1xn, Skalar (wenn SISO, d.h. u und y L√§nge 1 haben)
:::



## Wiederholung 1

 - Mathematische Beschreibungen im Zeitbereich
   - Zustandsraumdarstellung f√ºr lineare Systeme
   - Differentialgleichung linear <!-- Lunze Gl. 4.3 -->
     $$
     a_n \frac{d^ny(t)}{dt^n} + a_{n-1} \frac{d^{n-1}y(t)}{dt^{n-1}} + \ldots + a_1 \frac{dy(t)}{dt} + a_0 y(t) = 
     $$
     $$
     = b_q \frac{d^q u(t)}{dt^q} + b_{q-1} \frac{d^{q-1} u(t)}{dt^{q-1}} + \ldots + b_1 \frac{du(t)}{dt} + b_0 u(t)
     $$
   - Differentialgleichung nichtlinear

## Wiederholung 1

 - Mathematische Beschreibungen im Zeitbereich
   - Zustandsraumdarstellung f√ºr lineare Systeme
   - Differentialgleichung linear
   - Differentialgleichung nichtlinear <!-- KJA Gl. 4.1 -->
     $$
     \dot{x}(t) = f(x,u), \quad x(0) = x_0
     $$
     $$
     y = h(x,u)
     $$

## Wiederholung 2

 - Bedeutung der Variablen
   - $u$?
   - $x$?
   - $y$?

::: notes
Fragen
 - Bedeutungen u, x, y??
 - Welche besondere Eigenschaft zeichnet Zustand aus? Speicher/Ged√§chtnis, kein instantane √Ñnderung sondern verz√∂gertes Verhalten und bleibender Einfluss
:::

## Wiederholung 2

 - Bedeutung der Variablen
   - $u$: Eingang
   - $x$: Zustand (bestimmt zusammen mit Verlauf der Eing√§nge sp√§tere Zust√§nde und Ausg√§nge eindeutig) <!-- Lunze Def. 4.1 -->
   - $y$: Ausgang

## Wiederholung 3

 - Wie k√∂nnen wir L√∂sungen f√ºr lineare Systeme berechnen?
   - ?

::: notes
Fragen
 - Welche analytischen Methoden kennen Sie? Woraus wird die L√∂sung zusammengesetzt (besteht sie)?
 - Welche numerischen Methoden kennen Sie?
:::


## Wiederholung 3

 - Wie k√∂nnen wir L√∂sungen f√ºr lineare Systeme berechnen?
   - Analytisch mit *Faltungsgleichung* (auch *Bewegungsgleichung* bzw. *Bewegungsgleichung f√ºr Ausg√§nge* in Lunze)
     - $x(t) = e^{At} x_0 + \int_0^t e^{A(t-\tau)} B u(\tau) d\tau$ <!-- KJA Gl. 5.14 und Lunze Gl. 5.13-->
     - $y(t) = C e^{At} x_0 + \int_0^t C e^{A(t-\tau)} B u(\tau) d\tau + D u(t)$ <!-- KJA Gl. 5.15 und Lunze Gl. 5.17-->
   - Numerische Verfahren f√ºr gew√∂hnliche Differenzialgleichungen
     - Euler
     - Heun
     - Runge-Kutta etc.

::: notes
Fragen
 - Wie heissen der erste und zweite Summand der analytischen L√∂sung? Freie und erzwungene L√∂sung
:::



## Beispiele mit App

 - App: linearisiertes Beispielmodell, √úbergangsverhalten, station√§res Verhalten, sinusf√∂rmige Eingangssignale, Fourieranalyse und Superposition
 - Hinarbeiten auf Beobachtungen: Kann mit einfachen Signalen und Superpositionsprinzip viele Eing√§nge darstellen und Ausg√§nge berechnen



## Lernziele heute

 - Ausgang f√ºr exponentielle Eing√§nge
 - √úbertragungsfunktion
 - Umrechnung von Zustandsraum zu √úbertragungsfunktion und umgekehrt
 - Laplace-Transformation und umgekehrte Laplace-Transformation


## Motivation

<div style="text-align: center;">

```{mermaid}
%%{init: {
  'theme': 'base',
  'themeVariables': {
    'primaryColor': '#e1f5fe',
    'primaryTextColor': '#000000',
    'primaryBorderColor': '#039be5',
    'lineColor': '#333333',
    'fontFamily': 'Source Sans Pro, Arial, sans-serif'
  },
  'flowchart': {
    'nodeSpacing': 30,
    'rankSpacing': 40,
    'padding': 5
  }
}}%%
flowchart TD
    A["üõ©Ô∏è<br>Reales System"] 

    B["Modell"]
    B1["$$\dot{x}_{nl} = f(x_{nl},u), \quad y_{nl} = h(x_{nl},u)$$"]

    C["Linearisierung<br>und Normierung"]
    C1["$$\dot{x} = Ax + Bu, \quad y = Cx + Du$$"]

    E["√úbertragungsfunktion"]
    E1["heute"]
    
    F["Reglerentwurf"]    


    A --> B
    A ~~~ B1
    B --> C
    B ~~~ C1
    C --schwer--> F
    C --einfach--> E
    C ~~~ E1
    E --einfach--> F
    
    classDef model fill:#e1f5fe,stroke:#039be5,stroke-width:2px
    classDef process fill:#e8f5e9,stroke:#43a047,stroke-width:2px
    classDef equation fill:#f5f5f5,stroke:#666,stroke-dasharray: 5 5
    
    class A process
    class B,C,E model
    class F process
    class B1,C1,E1 equation
```

</div>

::: notes
Fragen
 - Warum k√∂nnte es schwer sein direkt von der Zustandsraumdarstellung den Reglerentwurf durchzuf√ºhren? Bekannt ist Ihnen bereits die Faltungsgleichung, die schwierig auszuwerten ist. Dazu lernen Sie heute weitere Gr√ºnde, weswegen der alternative Weg durch den Frequenzbereich und √úbertragungsfunktionen einfacher ist.
:::

## Motivation

<div style="text-align: center;">

```{mermaid}
%%{init: {
  'theme': 'base',
  'themeVariables': {
    'primaryColor': '#e1f5fe',
    'primaryTextColor': '#000000',
    'primaryBorderColor': '#039be5',
    'lineColor': '#333333',
    'fontFamily': 'Source Sans Pro, Arial, sans-serif'
  },
  'flowchart': {
    'nodeSpacing': 30,
    'rankSpacing': 40,
    'padding': 5
  }
}}%%
flowchart TD
    A["üõ©Ô∏è<br>Reales System"] 

    B["Modell"]
    B1["$$\dot{x}_{nl} = f(x_{nl},u), \quad y_{nl} = h(x_{nl},u)$$"]

    C["Linearisierung<br>und Normierung"]
    C1["$$\dot{x} = Ax + Bu, \quad y = Cx + Du$$"]

    E["√úbertragungsfunktion"]
    E1["heute!"]
    
    F["Reglerentwurf"]    


    A --> B
    A ~~~ B1
    B --> C
    B ~~~ C1
    C --Faltungsgleichung--> F
    C --einfach--> E
    C ~~~ E1
    E --einfach--> F
    
    classDef model fill:#e1f5fe,stroke:#039be5,stroke-width:2px
    classDef process fill:#e8f5e9,stroke:#43a047,stroke-width:2px
    classDef equation fill:#f5f5f5,stroke:#666,stroke-dasharray: 5 5
    
    class A process
    class B,C,E model
    class F process
    class B1,C1,E1 equation
```

</div>


## L√∂sung der Faltungsgleichung

 - Faltungsgleichung beschreibt Ausgang vollst√§ndig
     - $y(t) = C e^{At} x_0 + \int_0^t C e^{A(t-\tau)} B u(\tau) d\tau + D u(t)$ <!-- KJA Gl. 5.15 und Lunze Gl. 5.17-->
 - Die homogene L√∂sung $e^{At} x_0$ beschreibt das Verhalten des Systems ohne Eingang und kann ohne Schwierigkeiten berechnet werden
 - Die erzwungene L√∂sung $\int_0^t e^{A(t-\tau)} B u(\tau) d\tau$ beschreibt das Verhalten des Systems mit Eingang und stellt uns mit Faltungsintegral vor Herausforderungen
 - Um ein besseres Verst√§ndnis zu erhalten analysieren wir die Ausg√§nge f√ºr einfache Grundformen als Eing√§nge auf eine Weise die
   - einfach zu berechnen ist: Die Ausg√§nge haben die gleiche Form wie die Eing√§nge
   - reichhaltige Ergebnisse verspricht: Die meisten Eing√§nge k√∂nnen als Linearkombination von Grundformen beschrieben werden
 - Der Ausgang kann dann Dank Superposition aus den Ausg√§ngen f√ºr die Grundformen berechnet werden


## Exponentielle Eing√§nge

 - Ansatz f√ºr Grundform: $u(t) = e^{s t}$ mit $s \in \mathbb{C}$, einer komplexen Zahl
 - Ist $s$ reell, dann ergibt $u(t)$ eine einfache Exponentialfunktion
 - Ist $s$ komplex, dann verwendet man immer ein Paar von komplexer Zahl $s$ und Konjugierter $s^*$, so dass die Summe der Grundformen reell ist
 - Ist $s = j \omega$ und $s^* = -j \omega$, dann ergibt die Summe der Grundformen eine Kosinusfunktion
     - $u(t) + u^*(t) = e^{j \omega t} + e^{-j \omega t} = 2 \cos(\omega t)$
- Ist $s = \sigma + j \omega$ und $s^* = \sigma - j \omega$, dann ergibt die Summe der Grundformen eine Kosinusfunktion mit exponentiell auf- oder abklingenden Amplitude
     - $u(t) + u^*(t) = e^{\sigma t} e^{j \omega t} + e^{-\sigma t} e^{-j \omega t} = 2 e^{\sigma t} \cos(\omega t)$

## Ausg√§nge f√ºr exponentielle Eing√§nge 1

 - Faltungsgleichung beschreibt Ausgang vollst√§ndig
     - $y(t) = C e^{At} x_0 + \int_0^t C e^{A(t-\tau)} B u(\tau) d\tau + D u(t)$ <!-- KJA Gl. 5.15 und Lunze Gl. 5.17-->
 - Einsetzen von $u(t) = e^{s t}$
     - $y(t) = C e^{At} x_0 + \int_0^t C e^{A(t-\tau)} B e^{s \tau} d\tau + D e^{s t} = C e^{At} x_0 + C e ^{A t} \int_0^t e^{(sI-A) \tau} B d\tau + D e^{s t}$ <!-- KJA S. 231 -->
 - Wenn $(sI-A)$ invertierbar ist ($s$ ist kein Eigenwert von $A$), dann k√∂nnen wir analytisch integrieren
     - $y(t) = C e^{At} x_0 + C e ^{A t} (sI-A)^{-1} \left[ e^{(sI-A) t} - I \right] B + D e^{s t}$

## Ausg√§nge f√ºr exponentielle Eing√§nge 2 \label{sec:herleitung2}


 - Umformen
     - $y(t) = \underbrace{C e^{At} \left[ x_0 - (sI-A)^{-1} B \right]}_{\text{transiente Antwort}} + \underbrace{\left[ C (sI-A)^{-1} B + D \right]}_{\text{station√§re Antwort}} e^{s t}$
 - Wenn das System asymptotisch stabil ist, dann wird die transiente Antwort gegen Null gehen
 - Die station√§re Antwort f√ºr Grundform $u(t) = e^{s t}$ als Eingang kann geschrieben werden
   $y_{stat}(t) = G(s) e^{s t}$
   mit einer komplexen Zahl $G(s)$
 - Die Funktion $G(s)$ nennt man die *√úbertragungsfunktion*. Sie beschreibt wie das System den Eingang in Grundform $e^{s t}$ zum Ausgang $G(s) e^{s t}$ transformiert.

## Eine T√ºr √∂ffnet sich...

::: {.columns}
::: {.column width="70%"}
 - Ansatz mit Grundformen erm√∂glicht die Faltungsgleichung zu l√∂sen.
 - Die station√§re L√∂sung $y_{stat}(t)$ wurde im Zeitbereich beschrieben.
 - Es liegt nahe, die √úbertragungsfunktion $G(s)$ weiter zu untersuchen
   - Hierzu f√ºhren wir mathematische Werkzeuge ein (Laplace-Transformation, Frequenzanalyse, komplexe Zahlen...)
   - Dieser Student liess sich davon beeindrucken
   - Konkrete Aufgaben verwenden immer reelle Zahlen (z.B. √ºber konjugierte komplexe Zahlen)
   - Lassen Sie dies nicht geschehen und glauben Sie an das Licht am Ende des Tunnels. Klassische Werkzeuge f√ºr lineare zeitinvariante Systeme sind erstaunlich m√§chtig und einfach zu benutzen!
:::
::: {.column width="30%"}
![Ein Student](Bilder/student.jpeg)
:::
:::

## ...in den Frequenzbereich

 - Betrachten wir einen sinusf√∂rmigen Eingang (zwei Grundformen, $s = \pm j \omega$)
   $$u(t) = e^{j \omega t} + e^{-j \omega t} = 2 \cos(\omega t) $$
 - Die station√§re Antwort f√ºr diese Eing√§nge und eine beliebige √úbertragungsfunktion $G(s)$ ist
   $$y_{stat}(t) = G(j \omega) e^{j \omega t} + G(-j \omega) e^{-j \omega t}$$
   $$ = M e^{\theta} e^{j \omega t} + M^* e^{-\theta^*} e^{-j \omega t} = 2 M \cos(\omega t + \theta)$$
 - Der Ausgang ist also ebenfalls ein sinusf√∂rmiges Signal der gleichen Frequenz $\omega$.
   - Die Amplitude wird durch $M = \vert G(j \omega) \vert$ verst√§rkt
   - Die Phase wird durch $\theta = \arg(G(j \omega)) = arctan(\frac{\Im(G(j \omega))}{\Re(G(j \omega))})$ verschoben <!-- KJA S. 250, Lunze Gl. 6.64 -->
   
## Lineare, zeitinvariante Systeme erlauben Superposition

 - Dank Superposition finden wir die station√§ren Ausg√§nge f√ºr komplexere Eing√§nge √ºber Zerlegung der Eing√§nge in Grundformen^[Viele periodische und nichtperiodische Signale, Sprung, Dirac-Impuls aber keine Signale, die schneller als exponentiell wachsen wie $t^t$ oder unendlich viele Diskontinuit√§ten enthalten. Formale Definition folgt sp√§ter.]
 - Wiederholung: Wenn
   - $y_1(t)$ die station√§re Antwort f√ºr Eingang $u_1(t)$ ist
   - $y_2(t)$ die station√§re Antwort f√ºr Eingang $u_2(t)$ ist
   
   Dann:
   - Ist $\alpha y_1(t) + \beta y_2(t)$ die station√§re Antwort f√ºr Eingang $\alpha u_1(t) + \beta u_2(t)$

   Allgemeiner:
   - $u(t) = \sum_{i=1}^N U_i e^{s_i t} \implies y(t) = \sum_{i=1}^N U_i G(s_i) e^{s_i t}$

## Rechenbeispiel

Folgt

## Konvertierung Zustandsraum zu √úbertragungsfunktion

 - Wie auf Folie \label{sec:herleitung2} gezeigt
   $G(s) = C (sI-A)^{-1} B + D$  <!-- Lunze Gl. 6.75 -->
 - Wenn $A$ diagnonal mit Eigenwerten $\lambda_i$ ist, dann erhalten wir
   $G(s) = \sum_{i=1}^N \frac{c_i b_i}{s-\lambda_i}$
 - Wenn $A$ nicht diagnonal ist, dann per Hand Faddeev-Algorithmus anwenden (Lunze Regelungstechnik 1) oder rechnergest√ºtzt Varga und Sima.



## Rechenregeln: Blockdiagramme...


## Beispiele von √úbertragungsfkt

Integrator, Ableitung, Sprung...


## Darstellungen: Bode...


## Nullstellen


## Pole


## Rechenbeispiele



## Referenzen

Astr√∂m, K.J., Murray, R.M. (2008). Feedback Systems: An Introduction for Scientists and Engineers. Princeton University Press.

Lunze, D. (2022). Regelungstechnik 1: Grundlagen und Praktikum. Springer Spektrum.

Varga, A, Sima, V.: "Numerically stable algorithm for transfer function matrix evaluation" Int. J. 
Control, vol. 33, No. 6, pp. 1123-1133, 1981 

Tani, J. (2017). Control Systems I. Lecture Notes. ETH Zurich.

