<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feder-Masse Schwinger nach Lunze 1 Beispiel 4.2/6.1</title>
    <link rel="stylesheet" href="simulation.css">
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="katex/katex.min.css">
    <script defer src="katex/katex.min.js"></script>
    <script defer src="katex/contrib/auto-render.min.js"></script>
    
    <!-- math.js for matrix operations and complex numbers -->
    <script src="mathjs/math.min.js"></script>
</head>
<body>
    <div id="main-container">
        <header>
            <h1>Feder-Masse Schwinger nach Lunze 1 Beispiel 6.4</h1>
            <!-- <p class="subtitle">Übertragungsfunktionen</p> -->
        </header>

        <div id="content-wrapper">
            <!-- Left Panel: Controls and Equations -->
            <aside id="control-panel">
                <section class="panel-section">
                    <h2>Parameter</h2>
                    
                    <div class="slider-group">
                        <label for="m0-slider">
                            Untere Masse m₀: <span id="m0-value">0.5</span> kg
                        </label>
                        <input type="range" id="m0-slider" min="0.1" max="2.0" step="0.05" value="0.1">
                    </div>

                    <div class="slider-group">
                        <label for="m1-slider">
                            Mittlere Masse m₁: <span id="m1-value">0.3</span> kg
                        </label>
                        <input type="range" id="m1-slider" min="0.1" max="2.0" step="0.05" value="0.2">
                    </div>

                    <div class="slider-group">
                        <label for="c0-slider">
                            Feder c₀ (rechts): <span id="c0-value">2.0</span> N/m
                        </label>
                        <input type="range" id="c0-slider" min="0.1" max="5.0" step="0.1" value="2.6">
                    </div>

                    <div class="slider-group">
                        <label for="c1-slider">
                            Feder c₁ (links oben): <span id="c1-value">1.5</span> N/m
                        </label>
                        <input type="range" id="c1-slider" min="0.1" max="5.0" step="0.1" value="3.6">
                    </div>

                    <div class="slider-group">
                        <label for="c2-slider">
                            Feder c₂ (links unten): <span id="c2-value">1.0</span> N/m
                        </label>
                        <input type="range" id="c2-slider" min="0.1" max="5.0" step="0.1" value="1.8">
                    </div>

                    <div class="slider-group">
                        <label for="damping-slider">
                            Dämpfer d (rechts): <span id="damping-value">0.8</span> Ns/m
                        </label>
                        <input type="range" id="damping-slider" min="0.1" max="2.0" step="0.1" value="0.7">
                    </div>

                    <h2>Eingang</h2>
                    <div class="slider-group">
                        <label for="amplitude-slider">
                            Amplitude A: <span id="amplitude-value">0.5</span> m
                        </label>
                        <input type="range" id="amplitude-slider" min="0.1" max="1.0" step="0.1" value="0.5">
                    </div>

                    <div class="slider-group">
                        <label for="frequency-slider">
                            Frequenz f: <span id="frequency-value">1.0</span> Hz
                        </label>
                        <input type="range" id="frequency-slider" min="0.1" max="3.0" step="0.1" value="1.0">
                    </div>
                </section>

                <section class="panel-section">
                    <h2>Simulation</h2>
                    
                    <div class="slider-group">
                        <label for="time-slider">
                            Zeit: <span id="time-value">0.0</span> s
                        </label>
                        <input type="range" id="time-slider" min="0" max="10" step="0.05" value="0">
                    </div>

                    <div class="button-group">
                        <button id="play-button" class="control-btn">▶ Play</button>
                        <button id="pause-button" class="control-btn">⏸ Pause</button>
                        <button id="reset-button" class="control-btn">↻ Reset</button>
                    </div>

                    <div class="slider-group">
                        <label for="offset-slider">
                            Verschiebung: <span id="offset-value">0</span> px
                        </label>
                        <input type="range" id="offset-slider" min="0" max="100" step="5" value="0">
                    </div>
                    
                    <div class="checkbox-group">
                        <p style="font-weight: 600; margin-bottom: 8px;">Trajektorien anzeigen:</p>
                        <label><input type="checkbox" id="show-input" unchecked> Eingang</label>
                        <label><input type="checkbox" id="show-analytic-total" checked> Ausgang analytisch</label>
                        <label><input type="checkbox" id="show-analytic-transient" unchecked> Übergangsanteil des Ausgangs</label>
                        <label><input type="checkbox" id="show-analytic-steady" unchecked> Stationärer Anteil des Ausgangs</label>
                        <label><input type="checkbox" id="show-numerical" unchecked> Ausgang numerisch</label>
                    </div>

                </section>


            </aside>

            <!-- Right Panel: Visualizations -->
            <main id="visualization-panel">
                <section class="canvas-section collapsible">
                    <h2 class="collapsible-header">
                        <span class="collapse-icon">▼</span>
                        Systemgleichungen
                    </h2>
                    <div class="collapsible-content">
                        <p style="margin-bottom: 15px; line-height: 1.6;">
                            In der Ebene werden zwei Komponentenstränge parallel entsprechend Eingang \(u\) bewegt. 
                            Im linken Strang befindet sich eine Feder \(c_1\), die an der Masse \(m_1\) angeordnet ist. Daran 
                            hängt eine weitere Feder \(c_2\), die an einer gemeinsamen Masse \(m_0\) angeordnet ist. 
                            Im rechten Strang befindet sich eine Feder \(c_0\) sowie ein Dämpfer \(d\), der wieder mit der 
                            gemeinsamen Masse \(m_0\) verbunden ist. 
                            Die Positionen der beiden Massen \(m_1\) und \(m_0\) werden durch \(x_1\) und \(x_0\) beschrieben.
                            Die Position dieser gemeinsamen Masse \(m_0\) ist der Ausgang \(y = x_0\) beschrieben.
                            Als Zustände tauchen die Positionen \(x_1\) und \(x_0\) sowie deren Geschwindigkeiten auf. Somit 
                            ergibt sich ein Zustandsraummodell mit vier Zuständen.
                        </p>
                        <div class="equations">
                            <!-- Row 1: State vector and Input -->
                            <div class="equation-grid">
                                <div class="equation-item">
                                    <p><strong>Zustandsvektor:</strong></p>
                                    <div id="state-vector-eq" class="equation-katex"></div>
                                </div>
                                <div class="equation-item">
                                    <p><strong>Eingang:</strong></p>
                                    <div id="input-eq" class="equation-katex"></div>
                                </div>
                            </div>
                            
                            <!-- Row 2: System matrix (full width) -->
                            <div class="equation-item" style="width: 100%;">
                                <p><strong>Zustandsraummodell:</strong></p>
                                <div id="system-matrix-eq" class="equation-katex"></div>
                            </div>
                        </div>
                    </div>
                </section>


                <section class="canvas-section collapsible collapsed">
                    <h2 class="collapsible-header">
                        <span class="collapse-icon">▼</span>
                        Schematische Darstellung
                    </h2>
                    <div class="collapsible-content">
                        <canvas id="schematic-canvas"></canvas>
                    </div>
                </section>

                <section class="canvas-section collapsible collapsed">
                    <h2 class="collapsible-header">
                        <span class="collapse-icon">▼</span>
                        Trajektorien
                    </h2>
                    <div class="collapsible-content">
                        <canvas id="trajectory-canvas"></canvas>
                    </div>
                </section>

                <section class="canvas-section collapsible collapsed">
                    <h2 class="collapsible-header">
                        <span class="collapse-icon">▼</span>
                        Übertragungsfunktion
                    </h2>
                    <div class="collapsible-content">
                        <div class="equations">
                            <!-- Row 1: Complex conjugate values -->
                            <div class="equation-item">
                                <p><strong>Komplexe Argumente und Gewichte für Grundformen des Eingangs :</strong></p>
                                <div id="complex-parameters-eq" class="equation-katex"></div>
                            </div>
                            
                            <!-- Row 2: Input equation with complex values and damped trigonometrical equation -->
                            <div class="equation-item">
                                <p><strong>Eingang:</strong></p>
                                <div id="complex-input-eq" class="equation-katex"></div>
                            </div>

                            <!-- Row 3: Input equation with complex values and damped trigonometrical equation for current time -->
                            <div class="equation-item">
                                <p><strong>Eingang für aktuelle Zeit:</strong></p>
                                <div id="complex-input-now-eq" class="equation-katex"></div>
                            </div>

                            <!-- Row 4: Transient response for current time -->
                            <div class="equation-item">
                                <p><strong>Transiente Antwort für aktuelle Zeit:</strong></p>
                                <div id="transient-response-now-eq" class="equation-katex"></div>
                            </div>

                            <!-- Row 5: Steady state response for current time -->
                            <div class="equation-item">
                                <p><strong>Stationäre Antwort für aktuelle Zeit:</strong></p>
                                <div id="steady-state-response-now-eq" class="equation-katex"></div>
                            </div>

                        </div>
                    </div>
                </section>                

                <section class="canvas-section collapsible collapsed">
                    <h2 class="collapsible-header">
                        <span class="collapse-icon">▼</span>
                        Bode-Diagramm
                    </h2>
                    <div class="collapsible-content">
                        <canvas id="bode-canvas"></canvas>
                    </div>
                </section>


            </main>
        </div>

        <footer>
            <p>Zurück zur <a href="01-einleitung.html">Präsentation</a></p>
        </footer>
    </div>

    <script src="simulation2.js"></script>
</body>
</html>
